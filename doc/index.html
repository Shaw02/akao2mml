<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN'
            'http://www.w3.org/TR/html4/loose.dtd'>

<html lang='ja'>

<head>
	<meta http-equiv='Content-Type' content='text/html;charset=Shift_JIS'>
	<meta http-equiv='Content-Style-Type' content='text/css'>
	<link rel='stylesheet' type='text/css' href='doc.css'>
	<title>Akao2MML</title>
</head>

<BODY>
<!--────────────────────────────────────
	ツールバー（レイヤー２）
─────────────────────────────────────-->
<div id='header'>

<table>
<tr><td width='640pt'><i>Akao2MML</i></td></tr>
</table>
<!--（↑このコンテンツの位置。）-->

</div>
<!--────────────────────────────────────
	コンテンツ本体（レイヤー１）
─────────────────────────────────────-->
<div id='contents'>

<h2>概要(Summary)</h2>
<!--─────────────────────────────-->
このアプリケーションは、SQUARE ENIX社（旧SQUARE社）製ゲームの曲データファイルを
<a href='http://platz.jp/~mml2mid/'>MML2MID</a>仕様のMML(Music Macro Language)に逆コンパイルします。<br>
<br>
This application convert from akao-format music data to MML (Music Macro Language).<br>
You can compile from MML to SMF (standard MIDI File) by the <a href='http://platz.jp/~mml2mid/'>MML2MID</a>.

<h3>RS1MML.COM</h3>
<ul>
<li>Romancing Saga 1<br>
</ul>
<br>

<h3>RS2MML.COM</h3>
<ul>
<li>Romancing Saga 2<br>
</ul>
<br>

<h3>RS3MML.COM</h3>
<ul>
<li>Romancing Saga 3<br>
</ul>
<br>

<h3>SD2MML.COM</h3>
<ul>
<li>聖剣伝説 2<br>
</ul>
<br>

<h3>FF4MML.COM</h3>
<ul>
<li>FINAL FANTASY 4<br>
</ul>
<br>

<h3>FF5MML.COM</h3>
<ul>
<li>FINAL FANTASY 5<br>
<li>半熟ヒーロー<br>
</ul>
<br>

<h3>FF6MML.COM</h3>
<ul>
<li>FINAL FANTASY 6<br>
</ul>
<br>

<h3>CD1MML.COM</h3>
初期のPlaystation用SQUAREソフト用です。<br>
<ul>
<li>チョコボの不思議なダンジョン<br>
</ul>
<br>

<h3>FF7MML.COM</h3>
初期のPlaystation用SQUAREソフト用です。<br>
<ul>
<li>FINAL FANTASY 7<br>
<li>Saga Frontia<br>
</ul>
<br>

<h3>FF8MML.COM</h3>
後期のPlaystation用SQUAREソフト用です。<br>
<ul>
<li>FINAL FANTASY 2 (Playstation版)<br>
<li>FINAL FANTASY 8<br>
<li>FINAL FANTASY 9<br>
<li>Saga Frontia 2<br>
<li>Crono Cross<br>
<li>聖剣伝説 Legend of Mana<br>
<li>VAGRANT STORY<br>
<li>etc..<br>
</ul>
<br>

<br><br>
<h2>動作条件(Function condition)</h2>
<!--─────────────────────────────-->
<ol type='1'>
<li>Microsot社製MS-DOS及び、NEC製PC98用MS-DOSの、version 3.30d以降。<br>
	（64bit版Windowsは、未対応）<br>
<li>NEC社V30シリーズ、intel社i80186若しくは、その上位互換のCPU。<br>
	Protected mode, Intel 64bit, AMD64及びIA-64モード時は動作しません。(no function)<br>
	Virtual 86 mode（32bit版WindowsのDOS窓、command prompt）での動作は確認しております。(function was confirmeded.)<br>
	又、その際、ファイル名及びフォルダ名は、MS-DOSの仕様である必要があります。<br>
<ul><li>ファイル名は半角８文字以内、拡張子は半角３文字以内。<br>
	<li>使用できる文字は、"0"〜"9","A"〜"Z","_"。<br>
</ul>
<li>MS-DOSの空きメモリは、128kByte以上空いていれば、充分のはずです。<br>
	640kByte以上のメモリを積んでいるマシンなら、問題ないはず。<br>
	Windowsには、問題ありまくりかもしれないが。<br>
</ol>


<br><br>
<h2>使用方法(Haw to use)</h2>
<!--─────────────────────────────-->
コマンドラインに、次の通りに打ち込んでください。<br>
尚、（）内は省略可能です。<br>
Please type the following comand in the MS-DOS command line (prompt).
<br>
RS1MML （/D<var>debug mode</var>） <var>filename1（.SPC）</var> （><var>filename2.MML</var>）<br>
RS2MML （/D<var>debug mode</var>） <var>filename1（.SPC）</var> （><var>filename2.MML</var>）<br>
RS3MML （/D<var>debug mode</var>） <var>filename1（.SPC）</var> （><var>filename2.MML</var>）<br>
FF4MML （/D<var>debug mode</var>） <var>filename1（.SPC）</var> （><var>filename2.MML</var>）<br>
FF5MML （/D<var>debug mode</var>） <var>filename1（.SPC）</var> （><var>filename2.MML</var>）<br>
FF6MML （/D<var>debug mode</var>） <var>filename1（.SPC）</var> （><var>filename2.MML</var>）<br>
FF7MML （/D<var>debug mode</var>） <var>filename1（.SND）</var> （><var>filename2.MML</var>）<br>
FF8MML （/D<var>debug mode</var>） <var>filename1（.SND）</var> （><var>filename2.MML</var>）<br>
<br>
<var>filename1(.SPC / .SND)</var>は、逆コンパイルする元ファイル(source file)を指定します。<br>
拡張子を省略した場合は、自動的に拡張子を".SPC"（CD1MML, FF7MML, FF8MMLは、".SND"）とします。<br>
拡張子がないファイルを指定する場合は、"<var>ファイル名１.</var>"とピリオドまで記述して下さい。<br>
元ファイルは、AKAOフォーマットである必要があります。<br>
<br>
<var>filename2.MML</var>を指定した場合、指定したファイルに逆コンパイルしたMMLを出力します。<br>
省略した場合は、MS-DOSに設定されている標準出力（通常は画面）に出力します。<br>
MMLの文法は、別途、<a href='http://platz.jp/~mml2mid/'>MML2MID</a>のドキュメントを参照して下さい。<br>
<br>
<h3>Debug Modeについて</h3>
<table>
<tr><th>指定値	</th><th>挙動	</th></tr>
<tr><td>	1	</td><td>リピート命令を、MML2MIDの『 [ : ] 』コマンドを使わない形で逆コンパイルします。<br>
						MML2MIDの『 [ : ] 』コマンドで実現できないようなリピートを行う曲では、指定する必要があります。<br>
						リピートにおいて、最終リピート時にしかリピート抜けをしない曲では、指定の必要はありません。<br></td></tr>
<tr><td>	2	</td><td>VGMtransが出力するDLSの音色番号に併せます。(ff8mml.com限定)<br>
							　　0xA1	指定値に、0xFE-0x14で使用された音色数を加算して出力。<br>
							　　0xFE-0x04	127番を出力<br>
							　　0xFE-0x14	指定値を出力（最大16個）<br></td></tr>
</table>

<br><br>
<h2>仕様(Specifications)</h2>
<!--─────────────────────────────-->
<h3>共通仕様</h3>
<ul>
<li>SPC／SNDフォーマットの曲データを、逆MMLコンパイルします。<br>
<li>各チャンネルの逆MMLコンパイル前に、無限ループの解析をします。<br>
	ループアドレスの解析結果に基づいて、２回ループさせるように設計しています。<br>
	解析結果は、『/*Loop=<var>addr[n]</var>,…*/』と、コメントアウトして各チャンネルの先頭に出力されます。<br>
	<var>addr[n]</var>は、無限ループコマンドが示す絶対アドレスです。<br>
<li>未解析のコマンド及び非対応のコマンドは、『/* 〜 */』でコメントアウトしてMMLファイルに出力します。<br>
	主に、解析が目的です。何のコマンドか解ったら、是非教えてください。<br>
<li>"init.mml"にて、MIDI音源の初期設定を定義できます。（CD1MML.COM, FF7MML.COMで吐いたMMLでは使いません。）<br>
<li>CD1MML.COM, FF7MML.COMにで吐いたMMLについては、"define.mml"にて、MIDI音源の初期設定及び、音色を定義できます。<br>
<li>又、出力後のMMLファイルの最後尾に、音色定義用のマクロを出力しますので、曲データ毎に編集して下さい。<br>
<li>CD1MML.COM, FF7MML.COMに関しては、曲毎に違う音色が割り当てられる音色番号のみ、音色定義のマクロを出力します。<br>
<li>定義の文法については、<a href='http://platz.jp/~mml2mid/'>MML2MID</a>の取扱説明書及び、
	MIDI規格（<a href="http://www.amei.or.jp/">AMEI</a>より発刊）を参照して下さい。<br>
</ul>
<br>

<h3>Playstation版仕様</h3>
<ul>
<li>ゲームCD-ROM内の拡張子『.SND』は、曲データですのでそのままで使えます。<br>
	しかしながら、殆どの曲データは、CD-ROM内の様々なファイルに格納されています。<br>
	従って、曲データ単体への切り出しが必要になります。<br>
	尚、圧縮されているファイルが多いので、その場合は切り出し前に圧縮の解凍が必要になります。<br>
	（別手段として、拡張子が*.EXEファイルのPSFファイルから、切り出せるそうです。）<br>
<li>チャンネル17〜32は、MIDIポート2番用に出力します。<br>
<li>17チャンネルを超えるデータは、2ポート以上に対応したSMFプレイヤーが必要です。<br>
	Microsoft Media Playerは、1ポートのみしか対応していないため、
	チャンネル1〜16しか再生されません。<br>
	又、２ポート分のMIDI音源が必要です。<br>
</ul>
<br>

<br><br>
<h2>参考資料(Reference)</h2>
<!--─────────────────────────────-->
<li><a href='assemble.txt'>アセンブルの方法について</a><br>


<br><br>
<h2>改訂履歴(Revision)</h2>
<!--─────────────────────────────-->
<li><a href='revision.txt'>改訂履歴</a><br>


<br><br>
</div>
<!--────────────────────────────────────
	フッター
─────────────────────────────────────-->
<div id='footer'>

<table>
<tr><td width='640pt' colspan='4'><i>Akao2MML</i><br></td></tr>
</table>

</div>
<!--────────────────────────────────────-->
</BODY>
</html>
